{"ast":null,"code":"var _jsxFileName = \"C:\\\\projetos\\\\Market_React\\\\marketup\\\\src\\\\components\\\\Carrousel.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useRef } from 'react';\nimport carrouselStyle from './carrousel.css';\nimport next from '../assets/next.png';\nimport Like from '../assets/like.png';\nimport Unlike from '../assets/unlike.png';\nimport preview from '../assets/preview.png';\nimport Card from './Card';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Carrousel = _ref => {\n  _s();\n  let {\n    props: data\n  } = _ref;\n  let urlProducts = \"http://localhost:3000/products\";\n  const {\n    data: produtos,\n    load,\n    error\n  } = useFetch(urlProducts);\n  const [itens, setItens] = useState(null);\n  const [maxItens, setMaxItens] = useState(0);\n  const [currentIten, setCurrentIten] = useState(1);\n  let [selected] = useState(\"iten current-iten\");\n  let [unselected] = useState(\"iten\");\n  const selectedReference = useRef();\n  let MINUTE_MS = 5000;\n  useEffect(() => {\n    const handleCarrousel = async () => {\n      if (data) {\n        setItens(data);\n        setMaxItens(data.length);\n        console.log(data);\n        setCurrentIten(1);\n      } else {\n        setItens(null);\n        setMaxItens(0);\n      }\n    };\n    handleCarrousel();\n  }, [data]);\n  useEffect(() => {\n    const updateiten = () => {\n      if (currentIten > maxItens) {\n        setCurrentIten(1);\n      } else if (currentIten < 1) {\n        setCurrentIten(maxItens);\n      }\n    };\n    updateiten();\n  }, [currentIten, maxItens]);\n  const handleLeftClick = () => {\n    setCurrentIten(currentIten - 1);\n    console.log(currentIten);\n  };\n  const handlerigthClick = () => {\n    setCurrentIten(currentIten + 1);\n    console.log(currentIten);\n  };\n  const handleSelectClick = value => {\n    setCurrentIten(value);\n    console.log(currentIten);\n  };\n  useEffect(() => {\n    const carrousselroll = setInterval(() => {\n      setCurrentIten(currentIten + 1);\n    }, MINUTE_MS);\n    return () => clearTimeout(carrousselroll);\n  }, [currentIten, MINUTE_MS]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: error ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n          src: imgError,\n          alt: \"error\",\n          style: {\n            width: \"50px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 27\n        }, this), \"  \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 23\n      }, this) : load ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: imgLoad,\n        alt: \"Loading\",\n        style: {\n          width: \"50px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          style: carrouselStyle,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"arrow-left control\",\n            onClick: handleLeftClick,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"img-arrow-left\",\n              src: preview,\n              alt: \"next\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 78\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"arrow-right control\",\n            onClick: handlerigthClick,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"img-arrow-right\",\n              src: next,\n              alt: \"preview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 80\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gallery-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"gallery\",\n              children: itens && itens.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: p.id === currentIten ? selected : unselected,\n                ref: p.id === currentIten ? selectedReference : null,\n                onClick: e => {\n                  handleSelectClick(p.id);\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"like\",\n                  style: {\n                    backgroundImage: `url(${Unlike})`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Card, {\n                  name: p.name,\n                  price: p.price,\n                  about: p.about,\n                  categori: p.categori,\n                  thumb: p.pictures\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-add-cart\",\n                  children: \"Add to Cart\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-buy\",\n                  children: \"Buy\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 29\n                }, this)]\n              }, p.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }, this)\n      }, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n_s(Carrousel, \"/1Pyh8qOjhGQbsF9HK77sJ5C+/E=\", true);\n_c = Carrousel;\nexport default Carrousel;\nvar _c;\n$RefreshReg$(_c, \"Carrousel\");","map":{"version":3,"names":["useEffect","useState","useRef","carrouselStyle","next","Like","Unlike","preview","Card","Carrousel","props","data","urlProducts","produtos","load","error","useFetch","itens","setItens","maxItens","setMaxItens","currentIten","setCurrentIten","selected","unselected","selectedReference","MINUTE_MS","handleCarrousel","length","console","log","updateiten","handleLeftClick","handlerigthClick","handleSelectClick","value","carrousselroll","setInterval","clearTimeout","imgError","width","imgLoad","map","p","id","e","backgroundImage","name","price","about","categori","pictures"],"sources":["C:/projetos/Market_React/marketup/src/components/Carrousel.js"],"sourcesContent":["import { useEffect, useState, useRef } from 'react'\r\nimport carrouselStyle from './carrousel.css'\r\nimport next from '../assets/next.png'\r\nimport Like from '../assets/like.png'\r\nimport Unlike from '../assets/unlike.png'\r\nimport preview from '../assets/preview.png'\r\nimport Card from './Card';\r\n\r\n\r\nconst Carrousel = ({ props: data }) => {\r\n\r\n    let urlProducts = \"http://localhost:3000/products\";\r\n\r\n    const { data: produtos, load, error } = useFetch(urlProducts);\r\n\r\n    const [itens, setItens] = useState(null);\r\n    const [maxItens, setMaxItens] = useState(0);\r\n    const [currentIten, setCurrentIten] = useState(1);\r\n    let [selected] = useState(\"iten current-iten\");\r\n    let [unselected] = useState(\"iten\");\r\n    const selectedReference = useRef();\r\n    let MINUTE_MS = 5000;\r\n\r\n    useEffect(() => {\r\n        const handleCarrousel = async () => {\r\n            if (data) {\r\n                setItens(data);\r\n                setMaxItens(data.length);\r\n                console.log(data);\r\n                setCurrentIten(1)\r\n            } else {\r\n                setItens(null);\r\n                setMaxItens(0);\r\n            }\r\n        }\r\n        handleCarrousel();\r\n\r\n    }, [data]);\r\n\r\n    useEffect(() => {\r\n        \r\n        const updateiten = () => {\r\n            if (currentIten > maxItens) {\r\n                setCurrentIten(1);\r\n            } else if(currentIten < 1) {\r\n                setCurrentIten(maxItens);\r\n            }\r\n        }\r\n        updateiten();\r\n    }, [currentIten, maxItens]);\r\n\r\n    const handleLeftClick = () => {\r\n        setCurrentIten(currentIten - 1);\r\n        console.log(currentIten)\r\n    }\r\n\r\n    const handlerigthClick = () => {\r\n        setCurrentIten(currentIten + 1);\r\n        console.log(currentIten);\r\n    }\r\n\r\n    const handleSelectClick = (value) => {\r\n        setCurrentIten(value);\r\n        console.log(currentIten);\r\n    }\r\n\r\n    useEffect(() =>{\r\n        const carrousselroll = setInterval(()=>{\r\n            setCurrentIten(currentIten + 1);\r\n        },MINUTE_MS);\r\n        return () => clearTimeout(carrousselroll);\r\n    },[currentIten, MINUTE_MS])\r\n\r\n    return (\r\n        <>\r\n        <div>\r\n            {error ? (<p> <img src={imgError} alt=\"error\" style={{ width: \"50px\" }} />  {error}</p>) : (\r\n                load ? (<img src={imgLoad} alt=\"Loading\" style={{ width: \"50px\" }} />) : (\r\n                    <>\r\n        <div className=\"container\" style={carrouselStyle}>\r\n            <button className='arrow-left control' onClick={handleLeftClick}><img className='img-arrow-left' src={ preview } alt=\"next\" /></button>\r\n            <button className='arrow-right control' onClick={handlerigthClick}><img className='img-arrow-right' src={ next } alt=\"preview\" /></button>\r\n            <div className='gallery-wrapper'>\r\n                <div className='gallery'>\r\n                    {itens && itens.map((p) => (\r\n                        <div\r\n                            className={p.id === currentIten ? selected : unselected}\r\n                            ref={p.id === currentIten ? selectedReference : null}\r\n                            key={p.id} onClick={(e) => {handleSelectClick(p.id)}} >\r\n                                <button className='like' style={{ backgroundImage: `url(${Unlike})`}}></button>\r\n                            <Card name={p.name} price={p.price} about={p.about} categori={p.categori} thumb={p.pictures}/>\r\n                            <hr />\r\n                            <button className='btn-add-cart'>Add to Cart</button>\r\n                            <button className='btn-buy'>Buy</button>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n                    </>\r\n                )\r\n            )}\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Carrousel\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}