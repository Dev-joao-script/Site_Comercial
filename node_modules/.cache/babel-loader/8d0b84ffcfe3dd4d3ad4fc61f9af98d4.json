{"ast":null,"code":"var _jsxFileName = \"C:\\\\projetos\\\\Market_React\\\\marketup\\\\src\\\\components\\\\Carrousel.js\",\n  _s = $RefreshSig$();\nimport configData from \"../config/configData.json\";\nimport { useEffect, useState, useRef } from 'react';\nimport { useFetch } from '../hook/useFetch.js';\nimport carrouselStyle from './carrousel.css';\nimport next from '../assets/next.png';\nimport Like from '../assets/like.png';\nimport Unlike from '../assets/unlike.png';\nimport preview from '../assets/preview.png';\nimport Card from './Card';\nimport imgError from '../assets/erro.gif';\nimport imgLoad from '../assets/load.gif';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Carrousel = _ref => {\n  _s();\n  let {\n    props: Type\n  } = _ref;\n  let urlConfig = configData.Url.Produtos;\n  const [urlProducts, setUrlProducts] = useState(\"\");\n  const {\n    data,\n    load,\n    error\n  } = useFetch(urlProducts);\n  const [itens, setItens] = useState(null);\n  const [maxItens, setMaxItens] = useState(0);\n  const [currentIten, setCurrentIten] = useState(1);\n  let [selected] = useState(\"iten current-iten\");\n  let [unselected] = useState(\"iten\");\n  const selectedReference = useRef();\n  let MINUTE_MS = 5000;\n  useEffect(() => {\n    const selectCategori = () => {\n      switch (Type) {\n        case \"all\":\n          setUrlProducts(urlConfig);\n          break;\n        case Type !== \"all\":\n          setUrlProducts(`http://localhost:3000/products/categori=\"${Type}\"`);\n          break;\n        default:\n          setUrlProducts(\"http://localhost:3000/products\");\n          break;\n      }\n    };\n    selectCategori();\n  }, [Type]);\n  useEffect(() => {\n    const handleCarrousel = async () => {\n      if (data) {\n        setItens(data);\n        setMaxItens(data.length);\n        console.log(data);\n        setCurrentIten(1);\n      } else {\n        setItens(null);\n        setMaxItens(0);\n      }\n    };\n    handleCarrousel();\n  }, [data]);\n  useEffect(() => {\n    const updateiten = () => {\n      if (currentIten > maxItens) {\n        setCurrentIten(1);\n      } else if (currentIten < 1) {\n        setCurrentIten(maxItens);\n      }\n    };\n    updateiten();\n  }, [currentIten, maxItens]);\n  const handleLeftClick = () => {\n    setCurrentIten(currentIten - 1);\n    console.log(currentIten);\n  };\n  const handlerigthClick = () => {\n    setCurrentIten(currentIten + 1);\n    console.log(currentIten);\n  };\n  const handleSelectClick = value => {\n    setCurrentIten(value);\n    console.log(currentIten);\n  };\n  useEffect(() => {\n    const carrousselroll = setInterval(() => {\n      setCurrentIten(currentIten + 1);\n    }, MINUTE_MS);\n    return () => clearTimeout(carrousselroll);\n  }, [currentIten, MINUTE_MS]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: error ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n          src: imgError,\n          alt: \"error\",\n          style: {\n            width: \"50px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 27\n        }, this), \"  \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 23\n      }, this) : load ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: imgLoad,\n        alt: \"Loading\",\n        style: {\n          width: \"50px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          style: carrouselStyle,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"arrow-left control\",\n            onClick: handleLeftClick,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"img-arrow-left\",\n              src: preview,\n              alt: \"next\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 78\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"arrow-right control\",\n            onClick: handlerigthClick,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"img-arrow-right\",\n              src: next,\n              alt: \"preview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 80\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gallery-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"gallery\",\n              children: itens && itens.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: p.id === currentIten ? selected : unselected,\n                ref: p.id === currentIten ? selectedReference : null,\n                onClick: e => {\n                  handleSelectClick(p.id);\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"like\",\n                  style: {\n                    backgroundImage: `url(${Unlike})`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Card, {\n                  name: p.name,\n                  price: p.price,\n                  about: p.about,\n                  categori: p.categori,\n                  thumb: p.pictures\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-add-cart\",\n                  children: \"Add to Cart\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-buy\",\n                  children: \"Buy\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 29\n                }, this)]\n              }, p.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 9\n        }, this)\n      }, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n_s(Carrousel, \"wqYoh5DTDYkHyLgyzJ22mZsCd+A=\", false, function () {\n  return [useFetch];\n});\n_c = Carrousel;\nexport default Carrousel;\nvar _c;\n$RefreshReg$(_c, \"Carrousel\");","map":{"version":3,"names":["configData","useEffect","useState","useRef","useFetch","carrouselStyle","next","Like","Unlike","preview","Card","imgError","imgLoad","Carrousel","props","Type","urlConfig","Url","Produtos","urlProducts","setUrlProducts","data","load","error","itens","setItens","maxItens","setMaxItens","currentIten","setCurrentIten","selected","unselected","selectedReference","MINUTE_MS","selectCategori","handleCarrousel","length","console","log","updateiten","handleLeftClick","handlerigthClick","handleSelectClick","value","carrousselroll","setInterval","clearTimeout","width","map","p","id","e","backgroundImage","name","price","about","categori","pictures"],"sources":["C:/projetos/Market_React/marketup/src/components/Carrousel.js"],"sourcesContent":["import configData from \"../config/configData.json\";\r\nimport { useEffect, useState, useRef } from 'react'\r\nimport { useFetch } from '../hook/useFetch.js';\r\nimport carrouselStyle from './carrousel.css'\r\nimport next from '../assets/next.png'\r\nimport Like from '../assets/like.png'\r\nimport Unlike from '../assets/unlike.png'\r\nimport preview from '../assets/preview.png'\r\nimport Card from './Card';\r\nimport imgError from '../assets/erro.gif';\r\nimport imgLoad from '../assets/load.gif';\r\n\r\nconst Carrousel = ({ props: Type }) => {\r\n\r\n    let urlConfig = configData.Url.Produtos;\r\n    const [urlProducts, setUrlProducts] = useState(\"\");\r\n    const { data, load, error } = useFetch(urlProducts);\r\n\r\n    const [itens, setItens] = useState(null);\r\n    const [maxItens, setMaxItens] = useState(0);\r\n    const [currentIten, setCurrentIten] = useState(1);\r\n    let [selected] = useState(\"iten current-iten\");\r\n    let [unselected] = useState(\"iten\");\r\n    const selectedReference = useRef();\r\n    let MINUTE_MS = 5000;\r\n\r\n    useEffect(() =>{\r\n        const selectCategori = () =>{\r\n           switch (Type) {\r\n            case \"all\":\r\n                setUrlProducts(urlConfig);\r\n                break;\r\n                case Type !== \"all\":\r\n                setUrlProducts(`http://localhost:3000/products/categori=\"${Type}\"`);\r\n                break;\r\n            default:\r\n                setUrlProducts(\"http://localhost:3000/products\");\r\n                break;\r\n           }\r\n        }\r\n        selectCategori();\r\n    },[Type])\r\n\r\n    useEffect(() => {\r\n        const handleCarrousel = async () => {\r\n            if (data) {\r\n                setItens(data);\r\n                setMaxItens(data.length);\r\n                console.log(data);\r\n                setCurrentIten(1)\r\n            } else {\r\n                setItens(null);\r\n                setMaxItens(0);\r\n            }\r\n        }\r\n        handleCarrousel();\r\n\r\n    }, [data]);\r\n\r\n    useEffect(() => {\r\n        \r\n        const updateiten = () => {\r\n            if (currentIten > maxItens) {\r\n                setCurrentIten(1);\r\n            } else if(currentIten < 1) {\r\n                setCurrentIten(maxItens);\r\n            }\r\n        }\r\n        updateiten();\r\n    }, [currentIten, maxItens]);\r\n\r\n    const handleLeftClick = () => {\r\n        setCurrentIten(currentIten - 1);\r\n        console.log(currentIten)\r\n    }\r\n\r\n    const handlerigthClick = () => {\r\n        setCurrentIten(currentIten + 1);\r\n        console.log(currentIten);\r\n    }\r\n\r\n    const handleSelectClick = (value) => {\r\n        setCurrentIten(value);\r\n        console.log(currentIten);\r\n    }\r\n\r\n    useEffect(() =>{\r\n        const carrousselroll = setInterval(()=>{\r\n            setCurrentIten(currentIten + 1);\r\n        },MINUTE_MS);\r\n        return () => clearTimeout(carrousselroll);\r\n    },[currentIten, MINUTE_MS])\r\n\r\n    return (\r\n        <>\r\n        <div>\r\n            {error ? (<p> <img src={imgError} alt=\"error\" style={{ width: \"50px\" }} />  {error}</p>) : (\r\n                load ? (<img src={imgLoad} alt=\"Loading\" style={{ width: \"50px\" }} />) : (\r\n                    <>\r\n        <div className=\"container\" style={carrouselStyle}>\r\n            <button className='arrow-left control' onClick={handleLeftClick}><img className='img-arrow-left' src={ preview } alt=\"next\" /></button>\r\n            <button className='arrow-right control' onClick={handlerigthClick}><img className='img-arrow-right' src={ next } alt=\"preview\" /></button>\r\n            <div className='gallery-wrapper'>\r\n                <div className='gallery'>\r\n                    {itens && itens.map((p) => (\r\n                        <div\r\n                            className={p.id === currentIten ? selected : unselected}\r\n                            ref={p.id === currentIten ? selectedReference : null}\r\n                            key={p.id} onClick={(e) => {handleSelectClick(p.id)}} >\r\n                                <button className='like' style={{ backgroundImage: `url(${Unlike})`}}></button>\r\n                            <Card name={p.name} price={p.price} about={p.about} categori={p.categori} thumb={p.pictures}/>\r\n                            <hr />\r\n                            <button className='btn-add-cart'>Add to Cart</button>\r\n                            <button className='btn-buy'>Buy</button>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n                    </>\r\n                )\r\n            )}\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Carrousel\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}